<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/static/plugins/bootstrap-3.3.7-dist/css/bootstrap.css">

</head>
<style>
    .login {
        width: 500px;
        margin: 0 auto;
        margin-top: 80px;
    }
</style>
<body>
<div class="login">
    <form action="/login/" method="POST" id="f1">
        {% csrf_token %}
        <div class="form-group">
            <div>{{ msg }}</div>
            <label for="exampleInputUsername">User name</label>
            {{ result.username }}
            <p>{{ result.errors.username.0 }}</p>
        </div>
        <div class="form-group">
            <label for="exampleInputPassword1">Password</label>
            {{ result.password }}
            <p>{{ result.errors.password.0 }}</p>
        </div>
        <div class="form-group">
            <div class="col-sm-5" style="margin-left: -14px">
                {{ result.code }}
                {{ result.errors.code.0 }}
            </div>
            <div class="col-sm-5">
                <!--调用check_code函数生成校验码，绑定onclick事件，每一次点击生成不同的校验码-->
                <img id="check_code" onclick="changeImg(this);" src="/check_code/" alt=""
                     style="width: 120px;height: 35px;" title="点击切换">
            </div>
        </div>
        <div class="form-group" style="margin-left: -14px; ">
            <div class="col-sm-5" style="margin-top: 15px">
                <button type="submit" class="btn btn-default">Submit</button>
            </div>
        </div>
    </form>
</div>
<script src="/static/jquery-3.2.1.js"></script>
<script>
    function changeImg(ths) {
        ths.src = ths.src + '?'
    }
</script>
</body>
</html>

